vnfs = ["bridge", "firewall", "ndpi_stats", "nf_router", "payload_scan", "tx", "rx"]
features = [
    "Core (Socket) PhysIPC%",
    "Core (Socket) PhysIPC",
    "Core (Socket) IPC",
    "Core (Socket) INSTnom%",
    "Core (Socket) INST",
    "Core (Socket) INSTnom",
    "Core (Socket) EXEC",
    "Socket 0 INST",
    "Socket 0 INSTnom%",
    "Core (Socket) L2HIT",
    "Socket 0 PhysIPC%",
    "Socket 0 PhysIPC",
    "Socket 0 IPC",
    "Socket 0 INSTnom",
    "Socket 0 EXEC",
    "Socket 0 L2HIT",
    "Socket 1 PhysIPC",
    "Socket 1 PhysIPC%",
    "Socket 1 IPC",
    "Socket 1 LOCAL",
    "DRAM Energy (Joules) SKT0",
    "Core (Socket) L3OCC",
    "Socket 1 L2MPI",
    "DRAM Energy (Joules) SKT1",
    "Socket 0 WRITE",
    "Socket 1 L2MISS",
    "Socket 0 L2MISS",
    "Socket 1 READ",
    "Core (Socket) L2MISS",
    "Core (Socket) L2MPI",
    "Socket 0 L2MPI",
]

data = [
    [-0.934683, -0.946481, -0.950926, -0.925931, -0.920479, -0.856574, -0.81294,],
    [-0.934682, -0.946559, -0.950892, -0.925875, -0.92045, -0.856407, -0.813025,],
    [-0.934618, -0.946311, -0.950903, -0.925674, -0.920293, -0.856965, -0.812969,],
    [-0.927575, -0.939865, -0.940204, -0.91273, -0.907108, -0.843253, -0.80671,],
    [-0.927561, -0.93984, -0.940215, -0.912674, -0.907087, -0.843217, -0.806681,],
    [-0.926325, -0.939556, -0.939599, -0.912316, -0.906894, -0.842225, -0.805699,],
    [-0.925584, -0.937534, -0.938839, -0.910042, -0.904059, -0.843098, -0.804343,],
    [-0.88682, -0.874725, -0.885106, -0.862734, -0.879885, -0.903103, -0.896769,],
    [-0.886837, -0.874638, -0.885058, -0.862742, -0.87991, -0.902976, -0.896832,],
    [-0.894733, -0.901626, -0.610152, -0.65638, 0.177175, 0.719556, -0.657864,],
    [-0.88623, -0.87991, -0.887175, -0.870799, -0.878953, -0.901188, -0.894664,],
    [-0.886328, -0.879946, -0.887028, -0.870769, -0.878887, -0.901167, -0.894703,],
    [-0.886178, -0.879703, -0.887298, -0.870574, -0.878924, -0.900895, -0.894754,],
    [-0.881282, -0.868208, -0.879034, -0.857458, -0.872988, -0.896878, -0.888522,],
    [-0.866567, -0.854627, -0.866902, -0.843869, -0.862215, -0.88436, -0.879325,],
    [-0.626273, -0.623898, -0.640283, -0.625245, -0.624539, -0.648831, -0.646807,],
    [-0.378998, -0.394635, -0.410571, -0.363276, -0.329877, -0.330863, -0.322859,],
    [-0.379444, -0.393777, -0.410321, -0.362152, -0.329779, -0.331257, -0.322865,],
    [-0.378971, -0.392574, -0.409405, -0.361536, -0.32972, -0.330408, -0.321899,],
    [0.637143, 0.630493, 0.636419, 0.628898, 0.629665, 0.649416, 0.64451,],
    [0.674796, 0.665948, 0.672717, 0.65174, 0.666453, 0.684239, 0.679326,],
    [0.032935, -0.624607, -0.411307, -0.073562, 0.775855, 0.032941, 0.190939,],
    [0.864912, 0.859825, 0.868622, 0.851968, 0.858892, 0.879245, 0.87946,],
    [0.91075, 0.902696, 0.910901, 0.885154, 0.903239, 0.926779, 0.921039,],
    [0.912703, 0.901246, 0.911147, 0.888724, 0.902329, 0.927894, 0.921328,],
    [0.917636, 0.913581, 0.921064, 0.900421, 0.906155, 0.932623, 0.92896,],
    [0.965314, 0.955822, 0.962943, 0.943014, 0.95667, 0.980237, 0.972623,],
    [0.968121, 0.958538, 0.96609, 0.945337, 0.959454, 0.98353, 0.976481,],
    [0.940571, 0.9571, 0.963795, 0.938105, 0.958955, 0.970828, 0.98415,],
    [0.956644, 0.962819, 0.971885, 0.945667, 0.965438, 0.979068, 0.985559,],
    [0.971611, 0.961385, 0.967796, 0.947459, 0.961829, 0.985924, 0.979405,],
]


# Draw a heatmap, with the data values shown in each cell
import seaborn as sns
import matplotlib.pyplot as plt
import numpy as np

# reverse the order of features
features = features[::-1]
data = data[::-1]

data = np.array(data)
fig, ax = plt.subplots(figsize=(10, 10))
sns.heatmap(data, cmap="coolwarm", annot=True, fmt=".2f", xticklabels=vnfs, yticklabels=features, ax=ax)

plt.savefig("figure/exp-7-corr_heatmap.pdf", format="pdf", bbox_inches="tight")

